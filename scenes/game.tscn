[gd_scene load_steps=21 format=3 uid="uid://bla7pl27j4trd"]

[ext_resource type="Script" uid="uid://dv1oh8fno7a5y" path="res://scripts/AudioManager.gd" id="1_400sg"]
[ext_resource type="Script" uid="uid://bij8t8762jeo8" path="res://scripts/Player.gd" id="2_g4kob"]
[ext_resource type="Script" uid="uid://dp6skwu4kg477" path="res://scripts/GameManager.gd" id="3_qy1jj"]
[ext_resource type="Script" uid="uid://dku03teb0bgom" path="res://scripts/EventManager.gd" id="4_3xj3m"]
[ext_resource type="Script" uid="uid://c4flt4sl48pat" path="res://scripts/InventoryManager.gd" id="5_mcffj"]
[ext_resource type="Script" uid="uid://c3goydtt83vop" path="res://scripts/TaskManager.gd" id="6_2rd6h"]
[ext_resource type="Texture2D" uid="uid://babji75liivfj" path="res://assets/images/PC-bellboy-SpriteSheet.png" id="6_7ua8r"]
[ext_resource type="Script" uid="uid://bkyg8w0wc7a8i" path="res://scripts/HUD.gd" id="7_7ua8r"]
[ext_resource type="Script" uid="uid://cdts3k106mbtk" path="res://scripts/TextBoxManager.gd" id="8_r7sob"]
[ext_resource type="Script" uid="uid://bbag0p5mxud0f" path="res://scripts/Room.gd" id="9_qy1jj"]
[ext_resource type="Texture2D" uid="uid://becunpn6qoum2" path="res://assets/images/bg_v1.png" id="10_2rd6h"]
[ext_resource type="Script" uid="uid://kc84holhcb8s" path="res://scripts/GuestMonster.gd" id="10_3xj3m"]
[ext_resource type="PackedScene" uid="uid://crv1bm6ydxi4b" path="res://scenes/Bell.tscn" id="13_2rd6h"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2rd6h"]
size = Vector2(88, 53)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_7ua8r"]
height = 28.0

[sub_resource type="AtlasTexture" id="AtlasTexture_r7sob"]
atlas = ExtResource("6_7ua8r")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y5y3l"]
atlas = ExtResource("6_7ua8r")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vjgi4"]
atlas = ExtResource("6_7ua8r")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kyk2p"]
atlas = ExtResource("6_7ua8r")
region = Rect2(96, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_45i86"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r7sob")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y5y3l")
}],
"loop": true,
"name": &"idle",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vjgi4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kyk2p")
}],
"loop": true,
"name": &"walk",
"speed": 1.5
}]

[node name="Game" type="Node"]
script = ExtResource("3_qy1jj")

[node name="Background" type="Sprite2D" parent="."]
texture = ExtResource("10_2rd6h")

[node name="Rooms" type="Node2D" parent="Background"]

[node name="Room0" type="Node2D" parent="Background/Rooms"]
script = ExtResource("9_qy1jj")

[node name="Room1" type="Node2D" parent="Background/Rooms"]
script = ExtResource("9_qy1jj")

[node name="Room2" type="Node2D" parent="Background/Rooms"]
script = ExtResource("9_qy1jj")

[node name="Colliders" type="Node2D" parent="."]
light_mask = 0
visibility_layer = 0

[node name="FrontDeskBody" type="StaticBody2D" parent="Colliders"]
position = Vector2(-247, 55)
collision_mask = 0

[node name="FrontDesk" type="CollisionShape2D" parent="Colliders/FrontDeskBody"]
position = Vector2(-2, 28)
shape = SubResource("RectangleShape2D_2rd6h")
debug_color = Color(1.92523e-06, 0.514483, 0.601427, 0.42)

[node name="Player" type="Node2D" parent="."]
visibility_layer = 2
position = Vector2(-149, 77)
script = ExtResource("2_g4kob")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(0, 3)
shape = SubResource("CapsuleShape2D_7ua8r")

[node name="InteractRay" type="RayCast2D" parent="Player"]
position = Vector2(0, -5)
target_position = Vector2(0, 117)
collision_mask = 32
hit_from_inside = true
collide_with_areas = true

[node name="Sprite" type="AnimatedSprite2D" parent="Player"]
sprite_frames = SubResource("SpriteFrames_45i86")
animation = &"walk"
frame_progress = 0.146119

[node name="Camera2D" type="Camera2D" parent="Player/Sprite"]
position = Vector2(-2, -2)

[node name="AudioManager" type="AudioStreamPlayer2D" parent="."]
script = ExtResource("1_400sg")

[node name="BGM" type="AudioStreamPlayer2D" parent="AudioManager"]

[node name="SFX" type="AudioStreamPlayer2D" parent="AudioManager"]

[node name="GameManager" type="Node" parent="."]

[node name="EventManager" type="Node" parent="."]
script = ExtResource("4_3xj3m")
metadata/_custom_type_script = "uid://dku03teb0bgom"

[node name="InventoryManager" type="Node" parent="."]
script = ExtResource("5_mcffj")

[node name="TaskManager" type="Node" parent="."]
script = ExtResource("6_2rd6h")

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="HUD" type="Control" parent="UILayer"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_right = 20.0
offset_bottom = 40.0
grow_horizontal = 2
script = ExtResource("7_7ua8r")

[node name="Phase" type="Label" parent="UILayer/HUD"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -61.0
offset_right = 61.0
offset_bottom = 23.0
grow_horizontal = 2
text = "Phase: Check-in"

[node name="TextBox" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("8_r7sob")

[node name="Panel" type="Control" parent="TextBox"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Text" type="Label" parent="TextBox/Panel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[node name="Monsters" type="Node2D" parent="."]

[node name="MonsterA" type="Node2D" parent="Monsters"]
script = ExtResource("10_3xj3m")

[node name="MonsterB" type="Node2D" parent="Monsters"]
script = ExtResource("10_3xj3m")

[node name="Bell" parent="." instance=ExtResource("13_2rd6h")]
position = Vector2(-212, 64)
scale = Vector2(0.05, 0.05)
